User
  email Text

  -- For some reason persistent wanted to migrate this as var char, which it
  -- didn't do for any of the other `Id a` fields... :shrug:
  githubUserId GitHubUserId Maybe sqltype=integer
  githubUsername GitHubUserName Maybe

  credsIdent Text
  credsPlugin Text

  UniqueUser credsPlugin credsIdent
  deriving Eq Show

Repo json
  owner OwnerName
  name RepoName
  installationId InstallationId
  isPrivate Bool
  debugEnabled Bool

  UniqueRepo owner name
  deriving Eq Show

Job json
  installationId InstallationId
  owner OwnerName
  repo RepoName
  pullRequest PullRequestNum

  createdAt UTCTime
  updatedAt UTCTime
  completedAt UTCTime Maybe

  exitCode Int Maybe
  stdout Text Maybe
  stderr Text Maybe

  deriving Eq Show

Plan
  type PlanType
  owner OwnerName
  repo RepoName

  activeAt UTCTime Maybe
  expiresAt UTCTime Maybe

  message Text

  deriving Eq Show
