Signup
  email Text

User
  email Text

  -- For some reason persistent wanted to migrate this as var char, which it
  -- didn't do for any of the other `Id a` fields... :shrug:
  githubUserId (Id User) Maybe sqltype=integer
  githubUsername (Name User) Maybe

  credsIdent Text
  credsPlugin Text

  UniqueUser credsPlugin credsIdent
  deriving Eq Show

Repo
  owner (Name Owner)
  name (Name GH.Repo)
  installationId (Id Installation)
  isPrivate Bool
  debugEnabled Bool

  UniqueRepo owner name
  deriving Eq Show

Job json
  installationId (Id Installation)
  owner (Name Owner)
  repo (Name GH.Repo)
  pullRequest (Id PullRequest)

  createdAt UTCTime
  updatedAt UTCTime
  completedAt UTCTime Maybe

  exitCode Int Maybe
  stdout Text Maybe
  stderr Text Maybe

  deriving Eq Show
