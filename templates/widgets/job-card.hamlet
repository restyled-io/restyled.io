$with Entity jobId job <- job
  <div .card>
    <header>
      <a .permalink href=@{repoP (jobOwner job) (jobRepo job) $ jobR jobId}>permalink
      <a href=@{reposR $ jobOwner job}>
        #{toPathPart $ jobOwner job}
      /
      <a href=@{repoP (jobOwner job) (jobRepo job) $ jobsR}>
        #{toPathPart $ jobRepo job}
      <a href=@{repoP (jobOwner job) (jobRepo job) $ pullJobsR $ jobPullRequest job}>
        ##{toPathPiece $ jobPullRequest job}

    <p>
      Created #{format (diff True) $ diffUTCTime (jobCreatedAt job) now}

      $case jobCompletion job
        $of Success completedAt
          , succeeded in
          #{format (diff False) $ diffUTCTime (jobCreatedAt job) completedAt}
        $of Failure completedAt exitCode
          , failed in
          #{format (diff False) $ diffUTCTime (jobCreatedAt job) completedAt}
          (exit code #{show exitCode})
        $of InProgress
          , in progress

    ^{jobOutput job}

    $maybe actions <- mActions
      <aside>
        ^{actions}
